import re
import sys

def extract_invalid_keys_from_file(filename):
    with open(filename, "r") as f:
        data = f.read()

    invalid_keys = []
    blocks = data.strip().split("\n\n")

    for block in blocks:
        if "Status: Online-valid" not in block:
            key_match = re.search(r"Key:\s*([\w-]+)", block)
            if key_match:
                invalid_keys.append(key_match.group(1))

    return invalid_keys

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python extract_invalid_keys.py <filename>")
        sys.exit(1)

    filename = sys.argv[1]
    invalid_keys = extract_invalid_keys_from_file(filename)

    for key in invalid_keys:
        print(key)
